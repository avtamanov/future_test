{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\WebstormProjects\\\\react-future_test\\\\src\\\\Components\\\\Table\\\\SuperTable.js\";\nimport React, { useCallback, useEffect, useState } from 'react';\nimport SuperHeader from './SuperHeader';\nimport SuperBody from './SuperBody';\nimport SuperPaginator from \"./SuperPaginator\";\nconst LINES_ON_PAGE = 30; // lines on page by default\n\nconst SuperTable = React.memo(function (props) {\n  const [totalData, setTotalData] = useState([]);\n  const [curData, setCurData] = useState([]);\n  const [columnNames, setColumnsNames] = useState([]);\n  const [sortedTag, setSortedTag] = useState('');\n  const [choosenPage, setChoosenPage] = useState(1);\n  const [linesOnPage, setLinesOnPage] = useState(LINES_ON_PAGE); // save data after receiving request\n\n  useEffect(() => {\n    if (props.data && props.data !== [] && props.data[0] !== undefined) {\n      // set column names\n      let tempColumns = [];\n\n      for (let tempProps in props.data[0]) {\n        tempColumns.push(tempProps);\n      }\n\n      setColumnsNames(tempColumns);\n      setTotalData(tempColumns); // form pages\n\n      let shownData = [];\n\n      for (let i = linesOnPage * (choosenPage - 1); i < linesOnPage * choosenPage && i < props.data.length; i++) {\n        console.log(i);\n        shownData.push(props.data[i]);\n      }\n\n      setCurData(shownData);\n    }\n  }, [props]);\n  useEffect(() => {\n    // update pages\n    let shownData = [];\n\n    for (let i = linesOnPage * (choosenPage - 1); i < linesOnPage * choosenPage && i < totalData.length; i++) {\n      shownData.push(totalData[i]);\n    }\n\n    setCurData(shownData);\n  }, [choosenPage]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(SuperPaginator, {\n    page: choosenPage,\n    setPage: setChoosenPage,\n    linesTotal: props.data && props.data !== [] ? props.data.length : 0,\n    linesOnPage: linesOnPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SuperHeader, {\n    columns: columnNames,\n    sortedTag: sortedTag,\n    setSortedTag: setSortedTag,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(SuperBody, {\n    curData: curData,\n    sortedTag: sortedTag,\n    setCurData: setCurData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  })));\n});\nexport default SuperTable;","map":{"version":3,"sources":["C:/Users/User/WebstormProjects/react-future_test/src/Components/Table/SuperTable.js"],"names":["React","useCallback","useEffect","useState","SuperHeader","SuperBody","SuperPaginator","LINES_ON_PAGE","SuperTable","memo","props","totalData","setTotalData","curData","setCurData","columnNames","setColumnsNames","sortedTag","setSortedTag","choosenPage","setChoosenPage","linesOnPage","setLinesOnPage","data","undefined","tempColumns","tempProps","push","shownData","i","length","console","log"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,WAAf,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAsD,OAAtD;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AAEA,MAAMC,aAAa,GAAG,EAAtB,C,CAA0B;;AAE1B,MAAMC,UAAU,GAAGR,KAAK,CAACS,IAAN,CAAW,UAASC,KAAT,EAAe;AAEzC,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BT,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACY,WAAD,EAAcC,eAAd,IAAiCb,QAAQ,CAAC,EAAD,CAA/C;AACA,QAAM,CAACc,SAAD,EAAYC,YAAZ,IAA4Bf,QAAQ,CAAC,EAAD,CAA1C;AAEA,QAAM,CAACgB,WAAD,EAAcC,cAAd,IAAgCjB,QAAQ,CAAC,CAAD,CAA9C;AACA,QAAM,CAACkB,WAAD,EAAcC,cAAd,IAAgCnB,QAAQ,CAACI,aAAD,CAA9C,CARyC,CAUzC;;AACAL,EAAAA,SAAS,CAAC,MAAI;AACV,QAAGQ,KAAK,CAACa,IAAN,IAAcb,KAAK,CAACa,IAAN,KAAe,EAA7B,IAAmCb,KAAK,CAACa,IAAN,CAAW,CAAX,MAAkBC,SAAxD,EAAkE;AAC9D;AACA,UAAIC,WAAW,GAAG,EAAlB;;AACA,WAAI,IAAIC,SAAR,IAAqBhB,KAAK,CAACa,IAAN,CAAW,CAAX,CAArB,EAAmC;AAC/BE,QAAAA,WAAW,CAACE,IAAZ,CAAiBD,SAAjB;AACH;;AACDV,MAAAA,eAAe,CAACS,WAAD,CAAf;AACAb,MAAAA,YAAY,CAACa,WAAD,CAAZ,CAP8D,CAS9D;;AACA,UAAIG,SAAS,GAAG,EAAhB;;AACA,WAAI,IAAIC,CAAC,GAAGR,WAAW,IAAEF,WAAW,GAAG,CAAhB,CAAvB,EAA2CU,CAAC,GAAGR,WAAW,GAACF,WAAhB,IAA+BU,CAAC,GAAGnB,KAAK,CAACa,IAAN,CAAWO,MAAzF,EAAiGD,CAAC,EAAlG,EAAqG;AACjGE,QAAAA,OAAO,CAACC,GAAR,CAAYH,CAAZ;AACAD,QAAAA,SAAS,CAACD,IAAV,CAAejB,KAAK,CAACa,IAAN,CAAWM,CAAX,CAAf;AACH;;AACDf,MAAAA,UAAU,CAACc,SAAD,CAAV;AACH;AACJ,GAlBQ,EAkBP,CAAClB,KAAD,CAlBO,CAAT;AAoBAR,EAAAA,SAAS,CAAC,MAAI;AACV;AACA,QAAI0B,SAAS,GAAG,EAAhB;;AACA,SAAI,IAAIC,CAAC,GAAGR,WAAW,IAAEF,WAAW,GAAG,CAAhB,CAAvB,EAA2CU,CAAC,GAAGR,WAAW,GAACF,WAAhB,IAA+BU,CAAC,GAAGlB,SAAS,CAACmB,MAAxF,EAAgGD,CAAC,EAAjG,EAAoG;AAChGD,MAAAA,SAAS,CAACD,IAAV,CAAehB,SAAS,CAACkB,CAAD,CAAxB;AACH;;AACDf,IAAAA,UAAU,CAACc,SAAD,CAAV;AACH,GAPQ,EAON,CAACT,WAAD,CAPM,CAAT;AASA,sBAAO;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACH,oBAAC,cAAD;AAAgB,IAAA,IAAI,EAAEA,WAAtB;AACgB,IAAA,OAAO,EAAEC,cADzB;AAEgB,IAAA,UAAU,EAAEV,KAAK,CAACa,IAAN,IAAcb,KAAK,CAACa,IAAN,KAAe,EAA7B,GAAkCb,KAAK,CAACa,IAAN,CAAWO,MAA7C,GAAsD,CAFlF;AAGgB,IAAA,WAAW,EAAET,WAH7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADG,eAKH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,WAAD;AAAa,IAAA,OAAO,EAAEN,WAAtB;AAAmC,IAAA,SAAS,EAAEE,SAA9C;AAAyD,IAAA,YAAY,EAAEC,YAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI,oBAAC,SAAD;AAAW,IAAA,OAAO,EAAEL,OAApB;AAA6B,IAAA,SAAS,EAAEI,SAAxC;AAAmD,IAAA,UAAU,EAAEH,UAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CALG,CAAP;AAUH,CAlDkB,CAAnB;AAoDA,eAAeN,UAAf","sourcesContent":["import React, {useCallback, useEffect, useState} from 'react';\r\nimport SuperHeader from './SuperHeader'\r\nimport SuperBody from './SuperBody'\r\nimport SuperPaginator from \"./SuperPaginator\";\r\n\r\nconst LINES_ON_PAGE = 30; // lines on page by default\r\n\r\nconst SuperTable = React.memo(function(props){\r\n\r\n    const [totalData, setTotalData] = useState([]);\r\n    const [curData, setCurData] = useState([]);\r\n    const [columnNames, setColumnsNames] = useState([]);\r\n    const [sortedTag, setSortedTag] = useState('');\r\n\r\n    const [choosenPage, setChoosenPage] = useState(1);\r\n    const [linesOnPage, setLinesOnPage] = useState(LINES_ON_PAGE);\r\n\r\n    // save data after receiving request\r\n    useEffect(()=>{\r\n        if(props.data && props.data !== [] && props.data[0] !== undefined){\r\n            // set column names\r\n            let tempColumns = []\r\n            for(let tempProps in props.data[0]){\r\n                tempColumns.push(tempProps);\r\n            }\r\n            setColumnsNames(tempColumns);\r\n            setTotalData(tempColumns);\r\n\r\n            // form pages\r\n            let shownData = [];\r\n            for(let i = linesOnPage*(choosenPage - 1); i < linesOnPage*choosenPage && i < props.data.length; i++){\r\n                console.log(i);\r\n                shownData.push(props.data[i]);\r\n            }\r\n            setCurData(shownData);\r\n        }\r\n    },[props]);\r\n\r\n    useEffect(()=>{\r\n        // update pages\r\n        let shownData = [];\r\n        for(let i = linesOnPage*(choosenPage - 1); i < linesOnPage*choosenPage && i < totalData.length; i++){\r\n            shownData.push(totalData[i]);\r\n        }\r\n        setCurData(shownData);\r\n    }, [choosenPage]);\r\n\r\n    return <div className='table'>\r\n        <SuperPaginator page={choosenPage}\r\n                        setPage={setChoosenPage}\r\n                        linesTotal={props.data && props.data !== [] ? props.data.length : 0}\r\n                        linesOnPage={linesOnPage}/>\r\n        <table>\r\n            <SuperHeader columns={columnNames} sortedTag={sortedTag} setSortedTag={setSortedTag}/>\r\n            <SuperBody curData={curData} sortedTag={sortedTag} setCurData={setCurData}/>\r\n        </table>\r\n    </div>\r\n});\r\n\r\nexport default SuperTable;"]},"metadata":{},"sourceType":"module"}