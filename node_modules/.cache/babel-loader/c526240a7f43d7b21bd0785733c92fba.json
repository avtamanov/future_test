{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\WebstormProjects\\\\react-future_test\\\\src\\\\Components\\\\Table\\\\SuperTable.js\";\nimport React, { useCallback, useEffect, useState } from 'react';\nimport SuperHeader from './SuperHeader';\nimport SuperBody from './SuperBody';\nconst SuperTable = React.memo(function (props) {\n  const [curData, setCurData] = useState([]);\n  const [columns, setColumns] = useState([]);\n  const [sortedTag, setSortedTag] = useState(''); // save data after receiving request\n\n  useEffect(() => {\n    let tempData = props.data;\n\n    if (tempData !== [] && tempData[0] !== undefined) {\n      let tempColumns = [];\n\n      for (let tempProps in tempData[0]) {\n        tempColumns.push(tempProps);\n      }\n\n      setColumns(tempColumns);\n      setCurData(tempData);\n    }\n  }, [props, curData]); // sorting callback func\n\n  useEffect(() => {\n    console.log('sort');\n    console.log(curData && curData[0] && curData[1] && +(curData[0][sortedTag] < curData[1][sortedTag]));\n    console.log(curData.sort((a, b) => +(a[sortedTag] < b[sortedTag])));\n    if (sortedTag.includes('+')) setCurData(curData.reverse());else setCurData(curData.sort((a, b) => +(a[sortedTag] < b[sortedTag])));\n  }, [sortedTag]);\n  return /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 12\n    }\n  }, sortedTag, /*#__PURE__*/React.createElement(SuperHeader, {\n    columns: columns,\n    sortedTag: sortedTag,\n    setSortedTag: setSortedTag,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(SuperBody, {\n    data: curData,\n    columns: columns,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }));\n});\nexport default SuperTable;","map":{"version":3,"sources":["C:/Users/User/WebstormProjects/react-future_test/src/Components/Table/SuperTable.js"],"names":["React","useCallback","useEffect","useState","SuperHeader","SuperBody","SuperTable","memo","props","curData","setCurData","columns","setColumns","sortedTag","setSortedTag","tempData","data","undefined","tempColumns","tempProps","push","console","log","sort","a","b","includes","reverse"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,WAAf,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAsD,OAAtD;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AAEA,MAAMC,UAAU,GAAGN,KAAK,CAACO,IAAN,CAAW,UAASC,KAAT,EAAe;AAEzC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACQ,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACU,SAAD,EAAYC,YAAZ,IAA4BX,QAAQ,CAAC,EAAD,CAA1C,CAJyC,CAMzC;;AACAD,EAAAA,SAAS,CAAC,MAAI;AACV,QAAIa,QAAQ,GAAGP,KAAK,CAACQ,IAArB;;AAEA,QAAGD,QAAQ,KAAK,EAAb,IAAmBA,QAAQ,CAAC,CAAD,CAAR,KAAgBE,SAAtC,EAAgD;AAC5C,UAAIC,WAAW,GAAG,EAAlB;;AACA,WAAI,IAAIC,SAAR,IAAqBJ,QAAQ,CAAC,CAAD,CAA7B,EAAiC;AAC7BG,QAAAA,WAAW,CAACE,IAAZ,CAAiBD,SAAjB;AACH;;AACDP,MAAAA,UAAU,CAACM,WAAD,CAAV;AACAR,MAAAA,UAAU,CAACK,QAAD,CAAV;AACH;AACJ,GAXQ,EAWP,CAACP,KAAD,EAAQC,OAAR,CAXO,CAAT,CAPyC,CAoBzC;;AACAP,EAAAA,SAAS,CAAC,MAAM;AACZmB,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYb,OAAO,IAAIA,OAAO,CAAC,CAAD,CAAlB,IAAyBA,OAAO,CAAC,CAAD,CAAhC,IAAuC,EAAEA,OAAO,CAAC,CAAD,CAAP,CAAWI,SAAX,IAAwBJ,OAAO,CAAC,CAAD,CAAP,CAAWI,SAAX,CAA1B,CAAnD;AACAQ,IAAAA,OAAO,CAACC,GAAR,CAAYb,OAAO,CAACc,IAAR,CAAa,CAACC,CAAD,EAAGC,CAAH,KAAQ,EAAED,CAAC,CAACX,SAAD,CAAD,GAAeY,CAAC,CAACZ,SAAD,CAAlB,CAArB,CAAZ;AAGA,QAAGA,SAAS,CAACa,QAAV,CAAmB,GAAnB,CAAH,EAA4BhB,UAAU,CAACD,OAAO,CAACkB,OAAR,EAAD,CAAV,CAA5B,KACKjB,UAAU,CAACD,OAAO,CAACc,IAAR,CAAa,CAACC,CAAD,EAAGC,CAAH,KAAQ,EAAED,CAAC,CAACX,SAAD,CAAD,GAAeY,CAAC,CAACZ,SAAD,CAAlB,CAArB,CAAD,CAAV;AACR,GARQ,EAQN,CAACA,SAAD,CARM,CAAT;AAUA,sBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACFA,SADE,eAEH,oBAAC,WAAD;AAAa,IAAA,OAAO,EAAEF,OAAtB;AAA+B,IAAA,SAAS,EAAEE,SAA1C;AAAqD,IAAA,YAAY,EAAEC,YAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFG,eAGH,oBAAC,SAAD;AAAW,IAAA,IAAI,EAAEL,OAAjB;AAA0B,IAAA,OAAO,EAAEE,OAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHG,CAAP;AAKH,CApCkB,CAAnB;AAsCA,eAAeL,UAAf","sourcesContent":["import React, {useCallback, useEffect, useState} from 'react';\r\nimport SuperHeader from './SuperHeader'\r\nimport SuperBody from './SuperBody'\r\n\r\nconst SuperTable = React.memo(function(props){\r\n\r\n    const [curData, setCurData] = useState([]);\r\n    const [columns, setColumns] = useState([]);\r\n    const [sortedTag, setSortedTag] = useState('');\r\n\r\n    // save data after receiving request\r\n    useEffect(()=>{\r\n        let tempData = props.data;\r\n\r\n        if(tempData !== [] && tempData[0] !== undefined){\r\n            let tempColumns = []\r\n            for(let tempProps in tempData[0]){\r\n                tempColumns.push(tempProps);\r\n            }\r\n            setColumns(tempColumns);\r\n            setCurData(tempData);\r\n        }\r\n    },[props, curData]);\r\n\r\n    // sorting callback func\r\n    useEffect(() => {\r\n        console.log('sort');\r\n        console.log(curData && curData[0] && curData[1] && +(curData[0][sortedTag] < curData[1][sortedTag]));\r\n        console.log(curData.sort((a,b)=> +(a[sortedTag] < b[sortedTag]) ));\r\n\r\n\r\n        if(sortedTag.includes('+')) setCurData(curData.reverse());\r\n        else setCurData(curData.sort((a,b)=> +(a[sortedTag] < b[sortedTag]) ));\r\n    }, [sortedTag]);\r\n\r\n    return <table>\r\n        {sortedTag}\r\n        <SuperHeader columns={columns} sortedTag={sortedTag} setSortedTag={setSortedTag}/>\r\n        <SuperBody data={curData} columns={columns}/>\r\n    </table>\r\n});\r\n\r\nexport default SuperTable;"]},"metadata":{},"sourceType":"module"}